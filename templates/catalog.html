{% extends 'base.html' %}
{% block title %}Catalog{% endblock %}
{% block content %}
<h2>Catalog</h2>

<!-- Search Bar -->
<form class="mb-3" method="get">
  <div class="input-group">
    <input type="text" name="q" class="form-control" placeholder="Search..." value="{{ request.args.get('q','') }}">
    <button class="btn btn-secondary">Search</button>
  </div>
</form>

<!-- Book Cards -->
<div class="row mt-3">
{% for b in books %}
  <div class="col-md-3">
    <div class="card mb-3 h-100">
      <img src="{{ url_for('static', filename='images/' ~ b.image) }}" class="card-img-top" alt="{{ b.title }}">
      <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ b.title }}</h5>
        <p class="card-text">{{ b.author }}</p>
        <div class="mt-auto">
          <a href="{{ url_for('book_detail', book_id=b._id) }}" class="btn btn-sm btn-primary">View</a>
          <a href="{{ url_for('borrow', book_id=b._id) }}" class="btn btn-sm btn-success">Borrow</a>
        </div>
      </div>
    </div>
  </div>
{% endfor %}
</div>
{% endblock %}
